{"ast":null,"code":"import \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.string.search.js\";\nimport \"core-js/modules/web.timers.js\";\nimport { getQueryObj } from \"../utils/index\";\n// import { iOS_Appstore } from \"../constants/index\";\nexport default {\n  components: {},\n  data: function data() {\n    return {\n      // 用户设备标志\n      devFlag: true,\n      timer: null\n    };\n  },\n  computed: {},\n  methods: {\n    // 判断机型选取logo\n    whichDevice: function whichDevice() {\n      var reg = /(iPhone|iPad|iPod|iOS)/i;\n      if (reg.test(navigator.userAgent)) {\n        //   iphone\n        this.devFlag = true;\n      } else {\n        //   android\n        this.devFlag = false;\n      }\n    },\n    getlocationUrl: function getlocationUrl() {\n      this.basehref = window.location.href;\n      console.log(this.basehref);\n\n      // 处理指定的数据\n      var searchUrl = window.location.search;\n      var newObj = getQueryObj(searchUrl);\n      console.log(newObj);\n      this.appVersionMsg = newObj;\n      var device = this.appVersionMsg.platform;\n      console.log(device);\n      this.getVersionMsg(device);\n    },\n    // 获取版本信息\n    getVersionMsg: function getVersionMsg(device) {\n      var _this = this;\n      if (device === \"android\") {\n        this.$axios\n        // .get(`/app-download/versions/${device}-last-version.json`)\n        .get(\"/androidtest.json\").then(function (res) {\n          if (res.status === 200) {\n            //   console.log(res.data);\n            var downloadUrl = res.data.downloadUrl;\n            window.open(downloadUrl, \"_self\");\n          }\n        }, function (err) {\n          console.log(err);\n        });\n      } else if (device === \"ios\") {\n        //   链接到appstore\n        this.$axios\n        // .get(`/app-download/versions/${device}-last-version.json`)\n        .get(\"/iostest.json\").then(function (res) {\n          if (res.status === 200) {\n            /**\n             * downloadUrl ==>蒲公英推送\n             * appstoreUrl ==>Appstore\n             */\n            var appstoreUrl = res.data.appstoreUrl;\n            _this.timer = setTimeout(function () {\n              window.open(appstoreUrl, \"_self\");\n            });\n          }\n        }, function (err) {\n          console.log(err);\n        });\n      }\n    }\n  },\n  created: function created() {\n    this.whichDevice();\n  },\n  mounted: function mounted() {}\n};","map":{"version":3,"mappings":";;;;AAgCA;AACA;AACA;EACAA;EACAC;IACA;MACA;MACAC;MACAC;IACA;EACA;EACAC;EACAC;IACA;IACAC;MACA;MACA;QACA;QACA;MACA;QACA;QACA;MACA;IACA;IAEAC;MACA;MACAC;;MAEA;MACA;MACA;MACAA;MACA;MACA;MACAA;MACA;IACA;IAEA;IACAC;MAAA;MACA;QACA;QACA;QAAA,CACAC,yBACAC,KACA;UACA;YACA;YACA;YACAC;UACA;QACA,GACA;UACAJ;QACA,EACA;MACA;QACA;QACA;QACA;QAAA,CACAE,qBACAC,KACA;UACA;YACA;AACA;AACA;AACA;YACA;YACA;cACAC;YACA;UACA;QACA,GACA;UACAJ;QACA,EACA;MACA;IACA;EACA;EACAK;IACA;EACA;EACAC;AACA","names":["components","data","devFlag","timer","computed","methods","whichDevice","getlocationUrl","console","getVersionMsg","get","then","window","created","mounted"],"sourceRoot":"src/views","sources":["BeforeVersion.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"logo\">\n      <div class=\"inner\"></div>\n    </div>\n    <div class=\"out-box\">\n      <div class=\"button\" @click=\"getlocationUrl\">\n        <span class=\"tilt tilt-1\"></span><span class=\"tilt tilt-2\"></span\n        ><span class=\"tilt tilt-3\"></span><span class=\"tilt tilt-4\"></span\n        ><span class=\"tilt tilt-5\"></span><span class=\"tilt tilt-6\"></span\n        ><span class=\"tilt tilt-7\"></span><span class=\"tilt tilt-8\"></span\n        ><span class=\"tilt tilt-9\"></span><span class=\"tilt tilt-10\"></span\n        ><span class=\"tilt tilt-11\"></span><span class=\"tilt tilt-12\"></span\n        ><span class=\"tilt tilt-13\"></span><span class=\"tilt tilt-14\"></span\n        ><span class=\"tilt tilt-15\"></span>\n        <div class=\"text\">\n          <div>\n            <span\n              :class=\"devFlag ? 'iconfont icon-ios1' : 'iconfont icon-android1'\"\n            ></span>\n          </div>\n          <div>\n            <span><a id=\"tourl\" href=\"\">Download</a></span>\n          </div>\n        </div>\n        <div class=\"background\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getQueryObj } from \"../utils/index\";\n// import { iOS_Appstore } from \"../constants/index\";\nexport default {\n  components: {},\n  data() {\n    return {\n      // 用户设备标志\n      devFlag: true,\n      timer: null,\n    };\n  },\n  computed: {},\n  methods: {\n    // 判断机型选取logo\n    whichDevice() {\n      let reg = /(iPhone|iPad|iPod|iOS)/i;\n      if (reg.test(navigator.userAgent)) {\n        //   iphone\n        this.devFlag = true;\n      } else {\n        //   android\n        this.devFlag = false;\n      }\n    },\n\n    getlocationUrl() {\n      this.basehref = window.location.href;\n      console.log(this.basehref);\n\n      // 处理指定的数据\n      let searchUrl = window.location.search;\n      let newObj = getQueryObj(searchUrl);\n      console.log(newObj);\n      this.appVersionMsg = newObj;\n      let device = this.appVersionMsg.platform;\n      console.log(device);\n      this.getVersionMsg(device);\n    },\n\n    // 获取版本信息\n    getVersionMsg(device) {\n      if (device === \"android\") {\n        this.$axios\n          // .get(`/app-download/versions/${device}-last-version.json`)\n          .get(`/androidtest.json`)\n          .then(\n            (res) => {\n              if (res.status === 200) {\n                //   console.log(res.data);\n                let { downloadUrl } = res.data;\n                window.open(downloadUrl, \"_self\");\n              }\n            },\n            (err) => {\n              console.log(err);\n            }\n          );\n      } else if (device === \"ios\") {\n        //   链接到appstore\n        this.$axios\n          // .get(`/app-download/versions/${device}-last-version.json`)\n          .get(`/iostest.json`)\n          .then(\n            (res) => {\n              if (res.status === 200) {\n                /**\n                 * downloadUrl ==>蒲公英推送\n                 * appstoreUrl ==>Appstore\n                 */\n                let { appstoreUrl } = res.data;\n                this.timer = setTimeout(() => {\n                  window.open(appstoreUrl, \"_self\");\n                });\n              }\n            },\n            (err) => {\n              console.log(err);\n            }\n          );\n      }\n    },\n  },\n  created() {\n    this.whichDevice();\n  },\n  mounted() {},\n};\n</script>\n\n<style lang=\"scss\" scoped>\n$main_color: #ffcd11;\n\n$white_light: #f2f2f2;\n$white_gery: #cccccc;\n$font_color: #666666;\n\n// 禁用选择ios\n.button {\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n}\na {\n  text-decoration: none;\n  color: $font_color;\n}\n.iconfont {\n  font-size: 0.24rem;\n}\nspan,\n.button,\n.tilt,\n.out-box {\n  -webkit-tap-highlight-color: transparent !important;\n}\n\n.logo {\n  width: 100vw;\n  height: 0.8rem;\n  background-color: $main_color;\n  display: flex;\n  justify-content: start;\n  align-items: center;\n\n  //   border-bottom: 2px solid $white_light;\n}\n.inner {\n  width: 1.8rem;\n  height: 0.4rem;\n  background: url(\"../assets/img/Leanflow.png\");\n  background-size: 1.2rem;\n  background-repeat: no-repeat;\n  background-position: 0.3rem 0.08rem;\n}\n.out-box {\n  width: 100vw;\n  height: calc(100vh - 80px);\n  background-color: $main_color;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.button {\n  border-radius: 10px;\n  width: 1.8rem;\n  height: 0.6rem;\n  display: flex;\n  position: relative;\n  background: linear-gradient(to bottom, $white_light, $white_gery);\n  //   min-width: 10em;\n  //   min-height: 3em;\n  text-align: center;\n  font-weight: 600;\n  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2), 0 3px 10px 0 rgba(0, 0, 0, 0.15); //设置两层阴影\n  cursor: pointer;\n}\n.button .text {\n  position: absolute;\n  z-index: 1;\n  top: -2px;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  font-size: 0.2rem;\n  color: $font_color;\n}\n.button .tilt {\n  display: inline-block;\n  position: relative;\n  z-index: 2;\n  flex-grow: 1;\n}\n.button .background {\n  position: absolute;\n  top: -4px;\n  left: -2px;\n  height: 100%;\n  width: calc(100% + 4px);\n  background: $white_light;\n  border-radius: 10px;\n}\n.button:active .text {\n  top: 2px;\n}\n.button:active .background {\n  top: -2px;\n}\n.button .tilt-1:active ~ .background,\n.button .tilt-1:active ~ .text {\n  transform: skewY(-1.3deg);\n}\n.button .tilt-2:active ~ .background,\n.button .tilt-2:active ~ .text {\n  transform: skewY(-1.1deg);\n}\n.button .tilt-3:active ~ .background,\n.button .tilt-3:active ~ .text {\n  transform: skewY(-0.9deg);\n}\n.button .tilt-4:active ~ .background,\n.button .tilt-4:active ~ .text {\n  transform: skewY(-0.7deg);\n}\n.button .tilt-5:active ~ .background,\n.button .tilt-5:active ~ .text {\n  transform: skewY(-0.5deg);\n}\n.button .tilt-6:active ~ .background,\n.button .tilt-6:active ~ .text {\n  transform: skewY(-0.3deg);\n}\n.button .tilt-7:active ~ .background,\n.button .tilt-7:active ~ .text {\n  transform: skewY(-0.1deg);\n}\n.button .tilt-8:active ~ .background,\n.button .tilt-8:active ~ .text {\n  transform: skewY(0.1deg);\n}\n.button .tilt-9:active ~ .background,\n.button .tilt-9:active ~ .text {\n  transform: skewY(0.3deg);\n}\n.button .tilt-10:active ~ .background,\n.button .tilt-10:active ~ .text {\n  transform: skewY(0.5deg);\n}\n.button .tilt-11:active ~ .background,\n.button .tilt-11:active ~ .text {\n  transform: skewY(0.7deg);\n}\n.button .tilt-12:active ~ .background,\n.button .tilt-12:active ~ .text {\n  transform: skewY(0.9deg);\n}\n.button .tilt-13:active ~ .background,\n.button .tilt-13:active ~ .text {\n  transform: skewY(1.1deg);\n}\n.button .tilt-14:active ~ .background,\n.button .tilt-14:active ~ .text {\n  transform: skewY(1.3deg);\n}\n.button .tilt-15:active ~ .background,\n.button .tilt-15:active ~ .text {\n  transform: skewY(1.5deg);\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}