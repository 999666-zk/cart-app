{"ast":null,"code":"import _regeneratorRuntime from \"/Users/april/Desktop/git-lab/app/cart-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/april/Desktop/git-lab/app/cart-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport { getCookie } from \"../utils/index\";\nexport default {\n  data: function data() {\n    return {\n      isPrivacyAccepted: false,\n      // targetUrl: \"https://testcat.qingflow.com/index\",\n      targetUrl: \"https://cat.qingflow.com/index\"\n    };\n  },\n  computed: {},\n  methods: {\n    changeUserInfo: function changeUserInfo() {\n      var res = getCookie(\"caterpillarQflowToken\") || null;\n\n      if (res == null || res.length < 20) {\n        console.warn(\"请检查你获取的cookie是否正确\");\n        return;\n      } // 同意了相关隐私说明\n\n\n      var targetObj = {\n        tokenCookie: res,\n        isAccept: true\n      };\n      this.$axios.post(\"/nodeapp/change\", JSON.stringify(targetObj)).then(function (res) {\n        if (res.status == 200) {\n          if (res.data.message == \"更新成功\") {\n            console.log(\"重新更新成功\");\n          }\n        }\n      }, function (error) {\n        console.error(error);\n      });\n    },\n    submit: function submit() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this.isPrivacyAccepted) {\n                  _context.next = 4;\n                  break;\n                }\n\n                _context.next = 3;\n                return _this.changeUserInfo();\n\n              case 3:\n                window.location.replace(_this.targetUrl);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    // 轻流服务条款\n    targetOne: function targetOne() {\n      this.$router.push(\"/prvqflow\");\n    },\n    // 隐私条款\n    targetTwo: function targetTwo() {\n      this.$router.push(\"/prvqflow2\");\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module"}